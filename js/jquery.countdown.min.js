/*
 * jquery-counter plugin
 *
 * Copyright (c) 2009 Martin Conte Mac Donell <Reflejo@gmail.com>
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 */
jQuery.fn.countdown=function(a){var b={stepTime:60,format:"dd:hh:mm:ss",startTime:"01:12:32:55",digitImages:6,digitWidth:67,digitHeight:90,timerEnd:function(){},image:"digits.png"};var c=[],d=[];var e=function(a){var d=0;for(var e=0;e<b.startTime.length;e++){if(parseInt(b.startTime[e])>=0){elem=$('<div id="cnt_'+d+'" class="cntDigit" />').css({height:b.digitHeight,"float":"left",background:"url('"+b.image+"')",width:b.digitWidth});elem.current=parseInt(b.startTime[e]);c.push(elem);f(d,-elem.current*b.digitHeight*b.digitImages);switch(b.format[e]){case"h":c[d]._max=function(a,b){if(a%2==0)return 2;else return b?3:9};break;case"d":c[d]._max=function(){return 9};break;case"m":case"s":c[d]._max=function(a){return a%2==0?5:9}}++d}else{elem=$('<div class="cntSeparator"/>').css({"float":"left"}).text(b.startTime[e])}a.append(elem)}};var f=function(a,b){if(b!==undefined){c[a].margin=b;return c[a].css({backgroundPosition:"0 "+b+"px"})}return c[a].margin||0};var g=function(a,e,g){if(d[a])window.clearInterval(d[a]);var h=-(b.digitHeight*b.digitImages*c[a].current);f(a,h);c[a].current=c[a].current+(g?e:-e);var i=0;d[a]=setInterval(function(){if(i++===b.digitImages*e){window.clearInterval(d[a]);delete d[a];return}var c=g?-b.digitHeight:b.digitHeight;f(a,h+i*c)},b.stepTime/e)};var h=function(a){if(c[a].current==0){if(a>0){var e=c[a-1].current==0;g(a,c[a]._max(a,e),true);h(a-1)}else{for(var i=0;i<c.length;i++){clearInterval(d[i]);f(i,0)}b.timerEnd()}return}g(a,1)};$.extend(b,a);e(this);d.main=setInterval(function(){h(c.length-1)},1e3)}
